<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X Page Feed Demo</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f2f5;
            font-family: Arial, sans-serif;
        }
        .twitter-container {
            max-width: 600px;
            width: 100%;
            text-align: center;
        }
        .twitter-header {
            margin-bottom: 20px;
        }
        .twitter-header a {
            color: #1da1f2;
            text-decoration: none;
            font-size: 1.2em;
            font-weight: bold;
        }
        .twitter-feed {
            background-color: #fff;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            padding: 10px;
            min-height: 400px;
            position: relative;
        }
        .twitter-feed .fallback-message {
            display: none;
            color: #657786;
            font-size: 1em;
            padding: 20px;
            text-align: center;
        }
        .twitter-feed.empty .fallback-message {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Set your X page name here -->
    <script>
        const twitterPageName = "phish"; // The X username from your screenshot
    </script>

    <div class="twitter-container">
        <div class="twitter-header">
            <a id="twitter-profile-link" href="" target="_blank">Follow @<span id="twitter-page-name"></span> on X</a>
        </div>
        <div class="twitter-feed" id="twitter-feed">
            <a class="twitter-timeline" data-height="600" data-theme="light" href=""></a>
            <div class="fallback-message">
                <p>Unable to load the X feed for @<span id="twitter-page-name-fallback"></span> due to rate limiting (Error 429). Please try again later or visit their profile <a id="twitter-fallback-link" href="">here</a>.</p>
            </div>
        </div>
    </div>

    <script>
        // Dynamically update X page URL and name
        const profileLink = document.getElementById('twitter-profile-link');
        const pageNameSpan = document.getElementById('twitter-page-name');
        const timelineLink = document.querySelector('.twitter-timeline');
        const fallbackNameSpan = document.getElementById('twitter-page-name-fallback');
        const fallbackLink = document.getElementById('twitter-fallback-link');
        const twitterFeed = document.getElementById('twitter-feed');

        const twitterUrl = `https://twitter.com/${twitterPageName}`;
        profileLink.href = twitterUrl;
        pageNameSpan.textContent = twitterPageName;
        timelineLink.href = twitterUrl;
        fallbackNameSpan.textContent = twitterPageName;
        fallbackLink.href = twitterUrl;

        // Load the X widget script with a delay to avoid rate limiting
        function loadTwitterWidget() {
            const script = document.createElement('script');
            script.src = 'https://platform.twitter.com/widgets.js';
            script.async = true;
            script.charset = 'utf-8';
            script.onerror = () => {
                // If the script fails to load, show the fallback
                twitterFeed.classList.add('empty');
            };
            document.body.appendChild(script);
        }

        // Delay loading the widget to reduce the chance of hitting rate limits
        setTimeout(loadTwitterWidget, 2000);

        // Check if the widget loaded successfully
        setTimeout(() => {
            if (!twitterFeed.querySelector('iframe')) {
                twitterFeed.classList.add('empty');
            }
        }, 10000);
    </script>
</body>
</html>